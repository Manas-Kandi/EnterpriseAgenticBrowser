"use strict";const n=require("electron");n.contextBridge.exposeInMainWorld("ipcRenderer",{on(...e){const[r,t]=e;return n.ipcRenderer.on(r,(i,...o)=>t(i,...o))},off(...e){const[r,...t]=e;return n.ipcRenderer.off(r,...t)},send(...e){const[r,...t]=e;return n.ipcRenderer.send(r,...t)},invoke(...e){const[r,...t]=e;return n.ipcRenderer.invoke(r,...t)}});n.contextBridge.exposeInMainWorld("vault",{set:(e,r)=>n.ipcRenderer.invoke("vault:set",e,r),get:e=>n.ipcRenderer.invoke("vault:get",e),delete:e=>n.ipcRenderer.invoke("vault:delete",e)});n.contextBridge.exposeInMainWorld("audit",{getLogs:e=>n.ipcRenderer.invoke("audit:get-logs",e)});n.contextBridge.exposeInMainWorld("chatHistory",{get:()=>n.ipcRenderer.invoke("chatHistory:get"),set:e=>n.ipcRenderer.invoke("chatHistory:set",e),clear:()=>n.ipcRenderer.invoke("chatHistory:clear")});n.contextBridge.exposeInMainWorld("policy",{status:()=>n.ipcRenderer.invoke("policy:status"),syncState:()=>n.ipcRenderer.invoke("policy:sync-state"),sync:e=>n.ipcRenderer.invoke("policy:sync",e),configure:e=>n.ipcRenderer.invoke("policy:configure",e),setAuthToken:e=>n.ipcRenderer.invoke("policy:set-auth-token",e),clearAuthToken:()=>n.ipcRenderer.invoke("policy:clear-auth-token"),getAdminMessage:()=>n.ipcRenderer.invoke("policy:get-admin-message"),setDevOverride:(e,r)=>n.ipcRenderer.invoke("policy:set-dev-override",e,r)});n.contextBridge.exposeInMainWorld("identity",{getSession:()=>n.ipcRenderer.invoke("identity:get-session"),login:()=>n.ipcRenderer.invoke("identity:login"),logout:()=>n.ipcRenderer.invoke("identity:logout"),getAccessToken:()=>n.ipcRenderer.invoke("identity:get-access-token")});n.contextBridge.exposeInMainWorld("agent",{chat:e=>n.ipcRenderer.invoke("agent:chat",e),resetConversation:()=>n.ipcRenderer.invoke("agent:reset-conversation"),getModels:()=>n.ipcRenderer.invoke("agent:get-models"),getLlmConfig:()=>n.ipcRenderer.invoke("agent:get-llm-config"),setLlmConfig:e=>n.ipcRenderer.invoke("agent:set-llm-config",e),testConnection:e=>n.ipcRenderer.invoke("agent:test-connection",e),listRemoteModels:e=>n.ipcRenderer.invoke("agent:list-remote-models",e),getCurrentModel:()=>n.ipcRenderer.invoke("agent:get-current-model"),setModel:e=>n.ipcRenderer.invoke("agent:set-model",e),setMode:e=>n.ipcRenderer.invoke("agent:set-mode",e),getMode:()=>n.ipcRenderer.invoke("agent:get-mode"),setPermissionMode:e=>n.ipcRenderer.invoke("agent:set-permission-mode",e),getPermissionMode:()=>n.ipcRenderer.invoke("agent:get-permission-mode"),onApprovalRequest:e=>{const r=(t,i)=>e(i);return n.ipcRenderer.on("agent:request-approval",r),()=>n.ipcRenderer.off("agent:request-approval",r)},onApprovalTimeout:e=>{const r=(t,i)=>e(i);return n.ipcRenderer.on("agent:approval-timeout",r),()=>n.ipcRenderer.off("agent:approval-timeout",r)},respondApproval:(e,r)=>n.ipcRenderer.send("agent:approval-response",{requestId:e,approved:r}),sendFeedback:(e,r,t)=>typeof r=="boolean"?n.ipcRenderer.invoke("agent:feedback",{skillId:e,success:r}):n.ipcRenderer.invoke("agent:feedback",{skillId:e,label:r,version:t}),onStep:e=>{const r=(t,i)=>e(i);return n.ipcRenderer.on("agent:step",r),()=>n.ipcRenderer.off("agent:step",r)},getSavedPlans:()=>n.ipcRenderer.invoke("agent:get-saved-plans"),savePlanFor:(e,r)=>n.ipcRenderer.invoke("agent:save-plan",e,r),deletePlan:e=>n.ipcRenderer.invoke("agent:delete-plan",e),setAutoLearn:e=>n.ipcRenderer.invoke("agent:set-auto-learn",e),onToken:e=>{const r=(t,i)=>e(i);return n.ipcRenderer.on("agent:token",r),()=>n.ipcRenderer.off("agent:token",r)}});n.contextBridge.exposeInMainWorld("browser",{registerWebview:(e,r)=>n.ipcRenderer.invoke("browser:webview-register",{tabId:e,webContentsId:r}),setActiveTab:e=>n.ipcRenderer.invoke("browser:active-tab",{tabId:e}),activateTab:e=>n.ipcRenderer.send("browser:activate-tab",{tabId:e}),onNavigateTo:e=>{const r=(t,i)=>e(i);return n.ipcRenderer.on("browser:navigate-to",r),()=>n.ipcRenderer.off("browser:navigate-to",r)},onActivateTab:e=>{const r=(t,i)=>e(i);return n.ipcRenderer.on("browser:activate-tab",r),()=>n.ipcRenderer.off("browser:activate-tab",r)},onOpenAgentTab:e=>{const r=(t,i)=>e(i);return n.ipcRenderer.on("browser:open-agent-tab",r),()=>n.ipcRenderer.off("browser:open-agent-tab",r)},reportAgentTabOpened:e=>n.ipcRenderer.send("browser:open-agent-tab-result",e)});n.contextBridge.exposeInMainWorld("newtab",{getDashboardSnapshot:()=>n.ipcRenderer.invoke("newtab:dashboard-snapshot"),onDashboardUpdate:e=>{const r=(t,i)=>e(i);return n.ipcRenderer.on("newtab:dashboard-update",r),()=>n.ipcRenderer.off("newtab:dashboard-update",r)}});n.contextBridge.exposeInMainWorld("telemetry",{export:()=>n.ipcRenderer.invoke("telemetry:export")});n.contextBridge.exposeInMainWorld("session",{getInfo:()=>n.ipcRenderer.invoke("session:get-info"),clear:()=>n.ipcRenderer.invoke("session:clear"),onRestored:e=>{const r=(t,i)=>e(i);return n.ipcRenderer.on("session:restored",r),()=>n.ipcRenderer.off("session:restored",r)}});n.contextBridge.exposeInMainWorld("benchmark",{runSuite:e=>n.ipcRenderer.invoke("benchmark:runSuite",e)});n.contextBridge.exposeInMainWorld("terminal",{getContext:()=>n.ipcRenderer.invoke("terminal:getContext"),getMinimalContext:()=>n.ipcRenderer.invoke("terminal:getMinimalContext"),executeCode:(e,r)=>n.ipcRenderer.invoke("terminal:executeCode",e,r),evaluate:e=>n.ipcRenderer.invoke("terminal:evaluate",e),queryDOM:e=>n.ipcRenderer.invoke("terminal:queryDOM",e),click:e=>n.ipcRenderer.invoke("terminal:click",e),type:(e,r)=>n.ipcRenderer.invoke("terminal:type",e,r),waitForElementToDisappear:(e,r)=>n.ipcRenderer.invoke("terminal:waitForElementToDisappear",e,r),waitForURLChange:(e,r)=>n.ipcRenderer.invoke("terminal:waitForURLChange",e,r),waitForDOMStable:(e,r)=>n.ipcRenderer.invoke("terminal:waitForDOMStable",e,r),waitForCondition:(e,r,t)=>n.ipcRenderer.invoke("terminal:waitForCondition",e,r,t),waitForNetworkIdle:(e,r)=>n.ipcRenderer.invoke("terminal:waitForNetworkIdle",e,r),execute:e=>n.ipcRenderer.invoke("terminal:execute",e),getTabs:()=>n.ipcRenderer.invoke("terminal:get-tabs"),parse:e=>n.ipcRenderer.invoke("terminal:parse",e),generateCode:(e,r)=>n.ipcRenderer.invoke("terminal:generateCode",e,r),generateCodeStream:e=>n.ipcRenderer.invoke("terminal:generateCodeStream",e),cancelStream:()=>n.ipcRenderer.invoke("terminal:cancelStream"),onStreamToken:e=>{const r=(t,i)=>e(i);return n.ipcRenderer.on("terminal:streamToken",r),()=>n.ipcRenderer.off("terminal:streamToken",r)},generateCodeWithRetry:(e,r,t)=>n.ipcRenderer.invoke("terminal:generateCodeWithRetry",e,r,t),generateMultiStepPlan:e=>n.ipcRenderer.invoke("terminal:generateMultiStepPlan",e),executeMultiStepPlan:e=>n.ipcRenderer.invoke("terminal:executeMultiStepPlan",e),isMultiStepCommand:e=>n.ipcRenderer.invoke("terminal:isMultiStepCommand",e),run:(e,r)=>n.ipcRenderer.invoke("terminal:run",e,r),agent:e=>n.ipcRenderer.invoke("terminal:agent",e),onStep:e=>{const r=(t,i)=>e(i);return n.ipcRenderer.on("terminal:step",r),()=>n.ipcRenderer.off("terminal:step",r)}});n.contextBridge.exposeInMainWorld("telemetry",{getTerminalLogs:e=>n.ipcRenderer.invoke("telemetry:getTerminalLogs",e),getTerminalStats:()=>n.ipcRenderer.invoke("telemetry:getTerminalStats"),exportTerminalLogs:e=>n.ipcRenderer.invoke("telemetry:exportTerminalLogs",e),clearTerminalLogs:()=>n.ipcRenderer.invoke("telemetry:clearTerminalLogs")});n.contextBridge.exposeInMainWorld("scripts",{save:e=>n.ipcRenderer.invoke("scripts:save",e),getAll:()=>n.ipcRenderer.invoke("scripts:getAll"),get:e=>n.ipcRenderer.invoke("scripts:get",e),update:(e,r)=>n.ipcRenderer.invoke("scripts:update",e,r),delete:e=>n.ipcRenderer.invoke("scripts:delete",e),recordUsage:e=>n.ipcRenderer.invoke("scripts:recordUsage",e),suggestForUrl:e=>n.ipcRenderer.invoke("scripts:suggestForUrl",e),search:e=>n.ipcRenderer.invoke("scripts:search",e),generateName:e=>n.ipcRenderer.invoke("scripts:generateName",e)});n.contextBridge.exposeInMainWorld("monitor",{create:e=>n.ipcRenderer.invoke("monitor:create",e),getAll:()=>n.ipcRenderer.invoke("monitor:getAll"),get:e=>n.ipcRenderer.invoke("monitor:get",e),pause:e=>n.ipcRenderer.invoke("monitor:pause",e),resume:e=>n.ipcRenderer.invoke("monitor:resume",e),delete:e=>n.ipcRenderer.invoke("monitor:delete",e),reset:e=>n.ipcRenderer.invoke("monitor:reset",e),check:e=>n.ipcRenderer.invoke("monitor:check",e),onTriggered:e=>{const r=(t,i)=>e(i);return n.ipcRenderer.on("monitor:triggered",r),()=>n.ipcRenderer.off("monitor:triggered",r)}});
